(function(t){function e(e){for(var n,s,l=e[0],r=e[1],c=e[2],u=0,p=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);d&&d(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,l=1;l<o.length;l++){var r=o[l];0!==i[r]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},i={app:0},a=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"1f86":function(t,e,o){"use strict";o("b91b")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("chaoxing"),o("chaoxing-work"),o("zhs")],1)},a=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.utils.urlMatch(t.getHref(),t.includeUrl)?o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.setting.allDisplay,expression:"setting.allDisplay"}],staticStyle:{"z-index":"9999999999999","margin-left":"10px"}},[o("el-link",{on:{click:function(e){t.setting.allDisplay=!t.setting.allDisplay}}},[o("i",{staticClass:"el-icon-view"})])],1),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.setting.allDisplay,expression:"!setting.allDisplay"}],attrs:{id:"content"}},[o("el-row",[o("el-row",[o("el-col",[o("setting-panel")],1)],1),o("el-row",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.setting.consoleShow,expression:"setting.consoleShow"}]},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[o("div",[o("span",{staticStyle:{"font-size":"medium","font-weight":"bold"}},[t._v("日志:")]),o("br"),o("el-tag",{directives:[{name:"show",rawName:"v-show",value:!t.appShow,expression:"!appShow"}],staticStyle:{"max-width":"120px"},attrs:{type:t.consoleArray[t.consoleArray.length-1].type,size:"mini"},domProps:{textContent:t._s(t.consoleArray.length-1+":"+t.consoleArray[t.consoleArray.length-1].str)}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:t.appShow,expression:"appShow"}],staticClass:"card-content",staticStyle:{height:"200px"}},[o("el-card",{staticStyle:{height:"200px",overflow:"auto"},attrs:{shadow:"hover"}},t._l(t.consoleArray,(function(e,n){return o("p",{staticStyle:{"max-width":"120px"}},[o("el-tag",{key:n,attrs:{type:e.type,size:"mini"},domProps:{textContent:t._s(n+":"+e.str)}})],1)})),0)],1)])],1)]),o("el-row",[o("search-question")],1)],1),o("el-dialog",{staticStyle:{width:"100%",height:"100%"},attrs:{top:"20px",visible:t.setting.dialogVisible,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){return t.$set(t.setting,"dialogVisible",e)}}},[o("iframe",{staticStyle:{height:"75vh",width:"100%",overflow:"auto"},attrs:{src:"https://ocs.klweb.top/",frameborder:"0"}}),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.setting.dialogVisible=!1}}},[t._v("我已阅读完毕")]),o("el-link",{on:{click:function(e){return t.personSetting(t.setting.dialogVisible=!1)}}},[t._v("下次不再弹出")])],1)]),o("div",[o("job-list",{attrs:{setting:t.setting}})],1)],1)]):t._e()},l=[],r=(o("7db0"),o("c975"),o("d3b7"),o("4d63"),o("ac1f"),o("25f0"),o("6062"),o("3ca3"),o("466d"),o("5319"),o("841c"),o("1276"),o("ddb0"),o("1157")),c=o.n(r),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[o("div",{staticClass:"setting-form"},[o("div",[t._v("在线查题")]),o("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入题目查题"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[o("el-button",{staticStyle:{cursor:"pointer"},attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.queryTiMu()}},slot:"append"})],1),""!=t.searchQuestion?o("div",[t._v("题目："+t._s(t.searchQuestion))]):t._e(),""!=t.searchAnswer?o("div",{staticStyle:{"margin-top":"20px"}},[t._v("答案："+t._s(t.searchAnswer))]):t._e()],1)])],1)},u=[],p={data:function(){return{searchText:"",searchQuestion:"",searchAnswer:""}},methods:{queryTiMu:function(){var t=this;$.ajax({type:"get",url:originUrl+"/chati/"+chatiId+"/0/"+this.searchText,dataType:"json",success:function(e){-1==e.answer.indexOf("抱歉找不到结果")?(t.searchQuestion=e.question,t.searchAnswer=e.answer):t.searchAnswer="抱歉找不到结果"},error:function(e){t.searchAnswer="服务器错误"}})}},mounted:function(){}},f=p,g=o("2877"),h=Object(g["a"])(f,d,u,!1,null,"649f5e78",null),m=h.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",{staticClass:"box-card"},[o("div",[o("span",{staticStyle:{"font-size":"medium","font-weight":"bold"}},[t._v("超星刷课脚本")]),o("el-link",{on:{click:function(e){t.appShow=!t.appShow}}},[o("span",{staticStyle:{float:"right",padding:"0px 10px 10px 5px"},domProps:{textContent:t._s(!0===t.appShow?"收起":"下拉")}})])],1),o("div",[o("el-card",{directives:[{name:"show",rawName:"v-show",value:t.appShow,expression:"appShow"}],staticClass:"card-content",staticStyle:{"padding-bottom":"10px"},attrs:{shadow:"hover"}},[o("el-collapse",{attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-collapse-item",{attrs:{title:"脚本介绍",name:"10"}},[o("p",[t._v("超星刷课脚本")]),o("p",[t._v("作者: skeleton")]),o("p",[t._v("交流1群: 976662217 (已满)")]),o("p",[t._v("交流2群: 940881245 ")]),o("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(e){return t.window.open("https://ocs.klweb.top/","_blank")}}},[t._v("查看教程 ")]),o("el-alert",{attrs:{title:"请大家填写查题码,100万次，用完即止:",type:"success"}}),o("el-alert",{attrs:{title:"9683d1f02f0711eba205178e57fefea8",type:"success"}})],1),o("el-collapse-item",{attrs:{title:"个人设置",name:"1"}},[o("el-form",{ref:"setting",staticClass:"setting-form",attrs:{model:t.setting,"label-width":"100px"}},[o("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"禁止超星弹窗"}},[o("el-switch",{staticClass:"form-switch",model:{value:t.setting.alertDIsable,callback:function(e){t.$set(t.setting,"alertDIsable",e)},expression:"setting.alertDIsable"}})],1),o("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"开启日志输出"}},[o("el-switch",{staticClass:"form-switch",model:{value:t.setting.consoleShow,callback:function(e){t.$set(t.setting,"consoleShow",e)},expression:"setting.consoleShow"}})],1),o("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"全部隐藏至左上角的小眼睛"}},[o("el-switch",{staticClass:"form-switch",model:{value:t.setting.allDisplay,callback:function(e){t.$set(t.setting,"allDisplay",e)},expression:"setting.allDisplay"}})],1)],1)],1),o("el-collapse-item",{attrs:{title:"脚本设置",name:"2"}},[o("el-form",{ref:"setting",staticClass:"setting-form",staticStyle:{width:"300px"},attrs:{model:t.setting,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"播放速度"}},[o("el-col",{attrs:{span:2}},[t._v(t._s(t.setting.media.playbackRate)+"x")]),o("el-col",{attrs:{span:18,offset:2}},[o("el-slider",{attrs:{min:1,max:16},model:{value:t.setting.media.playbackRate,callback:function(e){t.$set(t.setting.media,"playbackRate",e)},expression:"setting.media.playbackRate"}})],1)],1),o("el-form-item",{attrs:{label:"视频静音"}},[o("el-switch",{staticClass:"form-switch",attrs:{"active-text":"静音","inactive-text":"不静音"},model:{value:t.setting.media.muted,callback:function(e){t.$set(t.setting.media,"muted",e)},expression:"setting.media.muted"}})],1),o("el-form-item",{attrs:{label:"网络类型"}},[o("el-switch",{staticClass:"form-switch",attrs:{"active-text":"公网1","inactive-text":"公网2"},model:{value:t.setting.media.network1,callback:function(e){t.$set(t.setting.media,"network1",e)},expression:"setting.media.network1"}})],1),o("el-form-item",{attrs:{label:"播放模式"}},[o("el-radio-group",{model:{value:t.setting.skType,callback:function(e){t.$set(t.setting,"skType",e)},expression:"setting.skType"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"全自动模式：根据当前未完成的任务点全自动刷，不会刷已经完成的任务点",placement:"right"}},[o("el-radio",{staticClass:"setting-radio",attrs:{label:"全自动"},on:{click:function(t){}}})],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"手动模式：手动点击搜索任务点，手动点击开始任务按钮，或者全部开始按钮",placement:"right"}},[o("el-radio",{staticClass:"setting-radio",attrs:{label:"手动"}})],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"复习模式，除了章节测试，全部任务重新做一遍",placement:"right"}},[o("el-radio",{staticClass:"setting-radio",attrs:{label:"复习"}})],1)],1)],1)],1)],1),o("el-collapse-item",{attrs:{title:"自动答题设置",name:"3"}},[o("el-form",{ref:"setting",staticStyle:{width:"300px"},attrs:{model:t.setting,"label-width":"150px"}},[o("el-form-item",{attrs:{label:"自动提交百分比(不懂意思不要乱调)"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"设定通过百分比，如果搜索成功的题目超过指定的百分比，例如:60%(10题查到6题)，就自动提交，否则保存答案，例如 100%就是 全部搜到才提交 ， 0% 的话就是不管怎么样都会自动提交",placement:"right"}},[[o("el-input-number",{attrs:{"controls-position":"right",size:"small",min:0,max:100},model:{value:t.setting.work.passRate,callback:function(e){t.$set(t.setting.work,"passRate",e)},expression:"setting.work.passRate"}})]],2)],1),o("el-form-item",{attrs:{label:"查题码（必填）"}},[o("el-popover",{attrs:{placement:"right",trigger:"hover"}},[o("div",[o("div",[t._v("查题码： 关注微信小程序 “网课答” 免费获取查题码 "),o("br"),t._v(" 获取完后请到脚本管理，修改脚本20几行填写查题码 ")]),o("div",[o("img",{staticStyle:{width:"300px",height:"300px"},attrs:{src:"https://wk.klweb.top/cdn/wkd.png"}})])]),o("el-input",{attrs:{slot:"reference",disabled:"",size:"small"},slot:"reference",model:{value:t.chatiId,callback:function(e){t.chatiId=e},expression:"chatiId"}})],1)],1)],1)],1)],1),o("div",{staticStyle:{padding:"5px"}},[o("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.personSetting()}}},[t._v("永久保存设置 ")])],1)],1)],1)])],1)},v=[],y="",w="1.1.1",x={data:function(){return{chatiId:y,activeName:["10"],appShow:!0,setting:this.getSetting(),info:{url:location.pathname,nowChapterId:"",passChapterId:new Set,errorTopic:[],filedJob:[]}}},methods:{getSetting:function(){var t=JSON.parse(localStorage.getItem("skeletonSetting")),e={dataVersion:w,media:{autoPlay:!0,playbackRate:2,muted:!0,network1:!0},jobEnable:["音频","ppt","书本","文档","章节测验","视频"],work:{passRate:60,totallCorrectRate:0,queryCode:""},skType:"全自动",alertDIsable:!0,dialogVisible:!0,consoleShow:!0,allDisplay:!1};return t&&t.dataVersion!=w?(console.log("更新设置"),e):t?(console.log("读取旧设置"),t):(console.log("读取新设置"),e)},personSetting:function(){console.log("保存数据："),console.log(this.setting),localStorage.setItem("skeletonSetting",JSON.stringify(this.setting)),this.topMessage("保存成功","success")}},mounted:function(){}},k=x,S=Object(g["a"])(k,b,v,!1,null,"7ef80def",null),_=S.exports,C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"sk-main"},[o("div",{staticClass:"sk-content"},[o("el-card",{attrs:{"body-style":{paddingBottom:"5px",paddingTop:"5px"}}},[o("el-collapse",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-collapse-item",{attrs:{title:"当前任务列表: ",name:"20"}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:0==t.allJob.length||"手动"!=t.setting.skType,expression:"allJob.length==0 || setting.skType!='手动'"}],attrs:{"element-loading-text":"手动"!=t.setting.skType?"只有手动模式可用（左边设置界面设置播放模式为手动）":"拼命加载中","element-loading-spinner":"el-icon-lock"}},[o("div",[o("div",t._l(t.tabtags,(function(e,n){return o("el-button",{attrs:{type:"primary",plain:""},domProps:{textContent:t._s(""==e.innerText?"无标题":e.innerText)},on:{click:e.onclick}})})),1),o("el-table",{attrs:{data:t.allJob,height:"220"}},[o("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),o("el-table-column",{attrs:{prop:"desc",label:"描述"}}),o("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",{style:{color:1==t.allJob[e.$index].start?"#67c23a":"#f56c6c"}},[o("i",{class:1==t.allJob[e.$index].start?"el-icon-success":"el-icon-s-release"}),o("span",{domProps:{textContent:t._s(1==t.allJob[e.$index].start?1==t.allJob[e.$index].finish?"已完成":"进行中":1==t.allJob[e.$index].error?"任务异常":"待分配")}})])]}}])}),o("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{disabled:t.allJob[e.$index].start,type:"primary",size:"mini"},domProps:{textContent:t._s(t.allJob[e.$index].finish?"重新做":"开始")},on:{click:function(o){return t.play(t.allJob[e.$index])}}})]}}])})],1)],1),o("div",{staticStyle:{padding:"10px"}},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.reSearchIframe()}}},[o("i",{staticClass:"el-icon-refresh"}),t._v(" 重新检测任务")]),o("el-button",{attrs:{type:"primary",size:"small",title:""},on:{click:function(e){return t.allStart(e)}}},[o("i",{staticClass:"el-icon-d-arrow-right"}),t._v(" 全部开始 ")])],1)])])],1)],1)],1)])])},T=[],J=window,j=J.top,I=J,M=(I.location.pathname,{props:{setting:Object},data:function(){return{tabtags:this.getTabtags(),activeName:["10"],allJob:j.sk.allJob}},methods:{getTabtags:function(){return $(".tabtags span")}},mounted:function(){}}),O=M,P=Object(g["a"])(O,C,T,!1,null,"cf92f7f0",null),D=P.exports,N=o("ed08"),A=o.n(N);console.log("超星刷课脚本");var q="",z="1.1.1",E=window,R=E.top,B=E,U=B.location.pathname;function V(t,e){setTimeout((function(){t()}),void 0==e?3e3:e)}function H(t,e){var o=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=void 0!=e?e.substring(e.indexOf("?")+1,e.length).match(o):window.location.search.substr(1).match(o);return null!=n?unescape(n[2]):null}B==R&&(R.sk={},R.sk.allJob=[],R.sk.operationTime=0,R.sk.addJob=function(t){R.sk.allJob.push(t)}),"/mycourse/studentstudy"==U&&console.log("init");var Z={components:{SettingPanel:_,SearchQuestion:m,JobList:D},beforeCreate:function(){},data:function(){return{utils:A.a,includeUrl:["/mycourse/studentstudy","/ananas/modules/","/work/doHomeWorkNew","edu.cn/"],chatiId:q,allJob:R.sk.allJob,cpi:"",appShow:!0,consoleArray:[{str:"超星脚本运行中...",type:"info"}],visible:!1,activeName:["10"],fullscreenLoading:!0,tabSpan:"",loading:{obj:""},skPanel:{title:"超星刷课脚本(最新版)"},setting:this.getSetting(),info:{url:location.pathname,nowChapterId:"",passChapterId:new Set,errorTopic:[],filedJob:[]}}},mounted:function(){if(A.a.urlMatch(this.getHref(),this.includeUrl)){var t=this;this.setting.consoleShow=!1,this.openFullScreen(),this.dialogVisible=!0,t.info.passChapterId.add(t.getChapterId());var e=Ocs(E);e.CxPageLisenner((function(t){console.log("监听到页面改变信息"),console.log(t),console.log(t),R.pageChange(t.pageInfo.direction,t.pageInfo.chapterId,t.pageJob)})),0!=c()("#skdiv").length&&t.messageBox("警告","检测到您安装了超星刷课的旧脚本，请删除旧版本，保证新脚本的运行！！！，如何删除请看教程：\n<a href='https://ocs.klweb.top/script/tampermonkey/#油猴使用' target='_blank'>https://ocs.klweb.top/script/tampermonkey/#油猴使用</a>","warning"),R.pageChange=function(e,o,n,i){R.sk.operationTime=(new Date).getTime(),t.tabtags=t.getTabtags(),t.reSearchIframe(n),setTimeout((function(){(new Date).getTime()-R.sk.operationTime>=3e3&&(console.log(t.info.passChapterId),"手动"!=t.setting.skType&&(t.info.passChapterId.has(o)?(t.log("此章节"),V(t.allStart)):(t.log("新章节"),t.info.passChapterId.add(o),V(t.allStart))))}),3e3)},void 0==q||""==q?(t.loading.obj.text="检测到您未填写查题码，请在←左边，答题设置，填写查题码才能查题，关注微信小程序 “网课答” 免费获取查题码",t.loading.obj.spinner="el-icon-error",t.loading.obj.customClass="load-error",setTimeout((function(){t.loading.obj.close()}),1e4)):c.a.ajax({type:"get",url:originUrl+"/chati/"+q+"/0/计算机",dataType:"json",success:function(o){t.loading.obj.text="题库正常！稍后自动开始刷课",t.loading.obj.spinner="el-icon-success",t.loading.obj.customClass="load-success",t.reSearchIframe(e.getIframeJob(R.$("iframe"))),"手动"!=t.setting.skType&&V((function(){t.tabtags=t.getTabtags(),t.log("全自动模式开启!","success"),V(t.allStart)})),setTimeout((function(){t.loading.obj.close()}),2e3)},error:function(e){t.loading.obj.text="题库异常!!!，或者没有填写答题吗！！！",t.loading.obj.spinner="el-icon-error",t.loading.obj.customClass="load-error",setTimeout((function(){t.loading.obj.close()}),1e4)}})}},methods:{getHref:function(){return window.location.href},getSetting:function(){var t=JSON.parse(localStorage.getItem("skeletonSetting")),e={dataVersion:z,media:{autoPlay:!0,playbackRate:2,muted:!0,network1:!0},jobEnable:["音频","ppt","书本","文档","章节测验","视频"],work:{passRate:60,totallCorrectRate:0,queryCode:""},skType:"全自动",alertDIsable:!0,dialogVisible:!0,consoleShow:!0,allDisplay:!1};return t&&t.dataVersion!=z?(console.log("更新设置"),e):t?(console.log("读取旧设置"),t):(console.log("读取新设置"),e)},nextTabPanel:function(){var t=c()("h4.currents,h3.currents,h5.currents"),e=c()(".noJob,.jobCount,.blue,.lock").parent("h3,h4,h5");t[0].isSameNode(e.eq(e.length-1)[0])?(this.topMessage("已经是最后一个章节了！","error"),this.log("已经是最后一个章节了！","error")):(this.log("下一节"),R.PCount.next(c()(".tabtags span").length,this.getChapterId(),H("courseId"),H("clazzid"),""))},getChapterId:function(){return document.getElementById("chapterIdid").value},reSearchIframe:function(t){t&&(R.sk.allJob=t),this.allJob=R.sk.allJob;for(var e=[],o=0;o<this.allJob.length;o++)(!this.allJob[o].finish||"全自动"!=this.setting.skType&&this.allJob[o].finish)&&("章节测验"==this.allJob[o].type&&this.allJob[o].finish||e.push(this.allJob[o]),console.log(this.allJob[o]));this.allJob=e,console.log("任务点"),console.log(this.allJob),this.topMessage("获取任务点成功！此界面一共"+this.allJob.length+"个任务点。","success")},allStart:function(t){if(console.log(c()(t)),void 0!=t)t.target.disabled=!0,t.target.title="请等待任务完成";else if(0==this.allJob.length)this.allCompelet();else{var e=this;this.topMessage("全部任务开始！一共"+this.allJob.length+"个任务点。","success");for(var o=0,n=0;n<this.allJob.length;n++)(!this.allJob[n].finish||"全自动"!=this.setting.skType&&this.allJob[n].finish)&&this.play(this.allJob[n],i(this.allJob[n]));function i(t){return t.start=!0,console.log("任务："+t.desc+",开始"),function(n){console.log("任务："+t.desc+",完成"),t.finish=n,t.start=!1,n||(t.error=!0,e.info.filedJob.push(t)),o++,n||!1,o==e.allJob.length&&e.allCompelet()}}}},allCompelet:function(){this.log("此页任务完成，跳转下一页。"),V(this.nextTabPanel)},play:function(t,e){0!=c()(t.document).find("video,audio").length?c()(t.document).find("video,audio")[0].oncanplay=function(){setTimeout((function(){1==t.start&&e(!1)}),1e3*c()(t.document).find("video,audio")[0].duration)}:setTimeout((function(){1==t.start&&e(!1)}),3e5);var o=t.document,n=t.type;if(t.start=!0,-1==this.setting.jobEnable.indexOf(n))return console.log(event),void console.log("任务点未选择，即将跳过");this.log(n+"任务开始！","success"),"视频"==n||"音频"==n?this.MediaUtils(o,this.getMedia(o),this.setting.media,e):"章节测验"==n?this.doWork(o,e):"ppt"==n||"文档"==n?this.doPdf(this.getPdfBtn(o),e):"书本"==n?this.doBook(this.getBook(o),e):this.log("未知的任务点！","error")},getMedia:function(t){return console.log(c()(t).find("video,audio.vjs-tech")),c()(t).find("video,audio.vjs-tech")},getWork:function(t){return c()(t).find("iframe").contents().find(".CeYan")},getPpt:function(t){return c()(t).find(".imglook")},getPdfBtn:function(t){return console.log("获取pdf按钮：",c()(t).find(".nextBtn")),c()(t).find(".nextBtn")},getBook:function(t){return c()(t).contents().find("iframe")},MediaUtils:function(t,e,o,n){c()(e).each((function(t,e){var i=e;try{var a=setInterval((function(){i.muted=o.muted,i.playbackRate=o.playbackRate}),1e3);i.play(),i.addEventListener("pause",(function(){i.ended||i.play()})),i.addEventListener("error",(function(){console.log("error"),void 0!=n&&n(!1)})),i.addEventListener("ended",(function(){clearInterval(a),console.log("ended"),console.log(o),void 0!=n&&n(!0)}))}catch(e){console.log(e)}}))},doPdf:function(t,e){if(this.log("检测到pdf，开始翻阅","info"),"visible"==t.css("visibility"))var o=setInterval((function(){t.click(),"visible"!=t.css("visibility")&&(void 0!=e&&e(!0),clearInterval(o))}),500);else void 0!=e&&e(!0)},doBook:function(t,e){if(console.log("开始阅读"),console.log(t),0==t.length||0==t.find(".Jimg").length)return console.log("阅读错误"),console.log(t),console.log(t.find(".Jimg")),void(void 0!=e&&e(!1));t.scrollTop(0);var o=t.find(".Jimg");console.log(t),console.log(o);var n=o.eq(o.length-1).offset().top;t.animate({scrollTop:n+1e3},3e4,(function(){void 0!=e&&e(!0)}))},doWork:function(t,e){var o=/===|---|#/,n=[],i=this;c()(t).find(".TiMu").each((function(t,e){var o=c()(e).find("ul").eq(0),i=(o.find("li"),o.find("iframe").contents().find("p"),o.find("textarea").eq(0),"");i=o.hasClass("Zy_ulTop")?"选择题":o.hasClass("Zy_ulTk")?"填空题":o.hasClass("Zy_ulBottom")?"判断题":"未知题型";var a=c()(e).find(".Zy_TItle").eq(0).text().replace(/\s+/g,"");a=a.substring(a.indexOf("】")+1,a.length);var s={topicDoc:c()(e).find(".Zy_TItle").eq(0),topic:a,type:i,options:o.find("li"),textarea:o.find("textarea")};n.push(s)})),console.log(n);var a={isPass:!1,wrong:0,correct:0,allCount:n.length};function s(e,n,r){i.log("正在回答第"+n+"题");var d=e[n];l(d.topic,(function(l,u){try{if(i.log("问题："+l+",答案"+u),void 0!=l&&void 0!=u){var p=d.options,f=l.split(o),g=!1;if(console.log("======自动答题======"),console.log(u),console.log(l),-1!=l.indexOf("抱歉找不到结果"))a.wrong++,d.topicDoc.append('<div class="my-alert error">匹配到的问题：'+u+"<br/>回答："+l+"</div>");else if("选择题"==d.type||"判断题"==d.type){for(var h=new Array,m=0;m<p.length;m++)p.eq(m).find("b").hasClass("ri")?h.push("对"):p.eq(m).find("b").hasClass("wr")?h.push("错"):h.push(p.eq(m).text().replace(/\s+/g,""));var b=new AnswerUtil(u,f,h),v=b.getAnswer();console.log(v);for(var y=0;y<v.length;y++)p.eq(v[y]).find("input").click(),g=!0;g?(a.correct++,d.topicDoc.append('<div class="my-alert success">匹配到的问题：'+u+"<br/>回答："+l+"</div>")):(a.wrong++,d.topicDoc.append('<div class="my-alert error">匹配到的问题：'+u+"<br/>回答："+l+"</div>"))}}else a.wrong++,d.topicDoc.append('<div class="my-alert error">服务器错误，脚本错误，或者连接超时!</div>')}catch(x){i.topMessage("答题："+(d.topic.length>10?d.topic.substring(0,10)+"...":d.topic)+",时发生错误！，将跳过此题","error")}finally{if(n>=e.length-1){var w=a.correct/a.allCount*100;"手动"!=i.setting.skType?w>i.setting.work.passRate?(i.log("答题完成，搜索成功率:"+w+"%，正在自动提交"),V((function(){console.log(c()(t).find("div.ZY_sub.clearfix").find("a.Btn_blue_1.marleft10")),c()(t).find("div.ZY_sub.clearfix").find("a.Btn_blue_1.marleft10").click(),V((function(){c()(t).find(".AlertCon02").find("a.bluebtn").click(),void 0!=r&&r(!0)}),1e4)}))):(i.log("答题完成，搜索成功率:"+w+"%，正在保存答案"),V((function(){c()(t).find("div.ZY_sub.clearfix").find("a.btnGray_1").click(),void 0!=r&&r(!0)}),1e4)):i.topMessage("答题完成，请手动操作","success")}else V((function(){s(e,++n,r)}))}}))}function l(t,e){c.a.ajax({type:"get",url:originUrl+"/chati/"+q+"/"+H("courseId")+"/"+encodeURI(t),timeout:18e4,dataType:"json",success:function(t){try{console.log(t);var o=t,n=o.answer,a=o.question;e(n,a)}catch(s){i.topMessage("脚本出错！！！","error"),e()}},complete:function(t,o){"timeout"==o?(i.topMessage("连接超时！！！","error"),e()):"error"==o&&(i.topMessage("服务器错误！！！","error"),e())}})}s(n,0,(function(){i.topMessage("答题完成！！！","success"),console.log(a),void 0!=e&&e(!0)}))},jobError:function(t){this.topMessage("脚本错误！！！","error")},handleChange:function(t){console.log(t)},openFullScreen:function(){var t=this.$loading({lock:!0,text:"正在检测题库服务器状态...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",customClass:""});this.loading.obj=t},messageBox:function(t,e,o){this.$alert(e,t,{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,type:o})},topMessage:function(t,e){this.$message({message:t,type:e})},enter:function(t){var e=c()(t.target).find(".card-content").eq(0);e.show(),e.animate({opacity:1},100,(function(){}))},leave:function(t){var e=c()(t.target).find(".card-content").eq(0);e.animate({opacity:0},200,(function(){e.hide()}))},log:function(t,e){var o={str:t,type:void 0==e?"info":e};this.consoleArray.length>50&&this.consoleArray.shift(),this.consoleArray.push(o)}}},L=Z,W=(o("1f86"),Object(g["a"])(L,s,l,!1,null,"0a5d1ffa",null)),Q=W.exports,Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.utils.urlMatch(t.getHref(),t.includeUrl)?o("div",[o("el-card",[o("div",[t._v("超星作业，考试脚本")])])],1):t._e()},F=[];console.log("超星作业，考试脚本");var G={data:function(){return{utils:A.a,includeUrl:["/work/doHomeWorkNew","/exam/test/reVersionPaperPreview","/exam/test/reVersionTestStartNew"]}},methods:{getHref:function(){return window.location.href}},mounted:function(){}},K=G,X=Object(g["a"])(K,Y,F,!1,null,"c8f25c6a",null),tt=X.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.utils.urlMatch(t.getHref(),t.includeUrl)?o("div",[o("el-card",[o("div",[t._v("智慧树刷课作业脚本")])])],1):t._e()},ot=[];console.log("智慧树刷课作业脚本");var nt={data:function(){return{utils:A.a,includeUrl:["zhihuishu.com/stuExamWeb","zhihuishu.com/portals_h5/","studyh5.zhihuishu.com/portals_h5/2clearning.html","studyh5.zhihuishu.com/videoStudy"]}},methods:{getHref:function(){return window.location.href}},mounted:function(){}},it=nt,at=Object(g["a"])(it,et,ot,!1,null,"60d6ff54",null),st=at.exports;console.log("OCS网课脚本");var lt={name:"App",components:{chaoxing:Q,ChaoxingWork:tt,zhs:st},data:function(){return{}},methods:{}},rt=lt,ct=(o("034f"),Object(g["a"])(rt,i,a,!1,null,null,null)),dt=ct.exports,ut=o("5c96"),pt=o.n(ut);o("0fae");n["default"].use(pt.a),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(dt)}}).$mount("#app")},"85ec":function(t,e,o){},b91b:function(t,e,o){},ed08:function(t,e,o){o("4160"),o("ac1f"),o("466d"),o("159b"),t.exports={urlMatch:function(t,e){var o=!1;return e.forEach((function(e){t.match(e)&&(o=!0)})),o}}}});
//# sourceMappingURL=app.71aa40d0.js.map